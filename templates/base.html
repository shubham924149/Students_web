<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>{% block title %}Student Management System{% endblock %}</title>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- AOS CSS (scroll animations) -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.css" rel="stylesheet">

    <style>
    /* PAGE FADE-IN */
    .fade-in { animation: fadeIn 0.8s ease-in-out forwards; opacity: 0; }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(12px); } to { opacity: 1; transform: translateY(0); } }

    /* BUTTON MICRO ANIMATIONS */
    .btn-anim { transition: transform .18s ease, box-shadow .18s ease; will-change: transform; }
    .btn-anim:hover { transform: translateY(-3px) scale(1.03); box-shadow: 0 10px 20px rgba(0,0,0,0.12); }

    /* FLASH / ALERT auto-fade */
    .flash { transition: opacity .6s ease, transform .4s ease; opacity: 1; }
    .flash.hide { opacity: 0; transform: translateY(-8px); }

    /* TABLE ROW hover */
    .table tbody tr { transition: transform .18s ease, background-color .18s ease; }
    .table tbody tr:hover { transform: translateY(-4px); background-color: rgba(0,0,0,0.03); }

    /* SIMPLE MODAL (optional small popup) */
    .modal-anim { display: none; position: fixed; left: 50%; top: 15%; transform: translate(-50%, -10%); width: 90%; max-width: 480px; background: #fff; border-radius: 8px; box-shadow: 0 20px 50px rgba(0,0,0,0.25); padding: 18px; z-index:1050; opacity:0; transition: opacity .25s ease, transform .25s ease; }
    .modal-anim.show { display:block; opacity:1; transform: translate(-50%, 0); }
    .modal-backdrop-anim { position: fixed; inset:0; background: rgba(0,0,0,0.45); z-index:1040; display:none; }
    .modal-backdrop-anim.show { display:block; }
    </style>
</head>
<body class="bg-light">

<nav class="navbar navbar-expand-lg navbar-dark bg-dark mb-4">
  <div class="container-fluid">
    <a class="navbar-brand" href="{{ url_for('dashboard') }}">StudentMS</a>
    <div>
      {% if session.user_id %}
        <span class="navbar-text text-light me-3">Logged in as {{ session.username }}</span>
        <a class="btn btn-outline-light btn-sm btn-anim" href="{{ url_for('logout') }}">Logout</a>
      {% else %}
        <a class="btn btn-outline-light btn-sm btn-anim" href="{{ url_for('login') }}">Login</a>
        <a class="btn btn-outline-light btn-sm btn-anim ms-2" href="{{ url_for('register') }}">Register</a>
      {% endif %}
    </div>
  </div>
</nav>

<div class="container fade-in">
    {% block content %}{% endblock %}
</div>

<!-- AOS JS -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.js"></script>
<!-- Bootstrap bundle -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

<script>
  // initialize AOS
  AOS.init({ duration: 700, once: true, easing: 'ease-out-cubic' });

  // auto-fade flash messages after 3s
  window.addEventListener('DOMContentLoaded', function() {
    setTimeout(function(){
      document.querySelectorAll('.flash').forEach(function(el){
        el.classList.add('hide');
      });
    }, 3000);
  });

  // simple modal open/close helpers (if using modal)
  function openModal(id) {
    document.getElementById(id + '-backdrop').classList.add('show');
    document.getElementById(id).classList.add('show');
  }
  function closeModal(id) {
    document.getElementById(id + '-backdrop').classList.remove('show');
    document.getElementById(id).classList.remove('show');
  }
</script>

</body>
</html>
